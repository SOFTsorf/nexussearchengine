<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Spotify UI Pro</title>
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800&display=swap');

        :root {
            --spotify-green: #1ed760;
            --bg-base: #121212;
            --bg-elevated: #1a1a1a;
            --bg-highlight: #2a2a2a;
            --text-base: #ffffff;
            --text-subdued: #a7a7a7;
            --nav-bg: rgba(0, 0, 0, 0.9);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }

        body {
            font-family: 'Figtree', sans-serif;
            background-color: var(--bg-base);
            color: var(--text-base);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER & CHIPS --- */
        .top-header { display: flex; align-items: center; padding: 16px 16px 8px; gap: 12px; position: sticky; top: 0; background: var(--bg-base); z-index: 10; }
        .profile-icon { width: 32px; height: 32px; background: #ffeb3b; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: black; font-weight: 800; font-size: 14px; border: 2px solid #000; }
        .top-header h1 { font-size: 22px; font-weight: 800; flex: 1; letter-spacing: -0.5px; }
        .header-icons { display: flex; gap: 18px; align-items: center; }
        .header-icons svg { fill: white; width: 24px; height: 24px; cursor: pointer; }

        .chip-container { display: flex; gap: 8px; padding: 8px 16px 16px; overflow-x: auto; scrollbar-width: none; background: var(--bg-base); }
        .chip-container::-webkit-scrollbar { display: none; }
        .chip { background: var(--bg-highlight); color: var(--text-base); padding: 8px 16px; border-radius: 20px; font-size: 13px; white-space: nowrap; cursor: pointer; font-weight: 500; transition: background 0.2s; }
        .chip.active { background: var(--spotify-green); color: black; }

        /* --- VIEWS --- */
        .view { flex: 1; overflow-y: auto; padding-bottom: 160px; display: none; }
        .view.active { display: block; }

        /* --- START VIEW --- */
        .start-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 0 16px 24px; }
        .grid-item { background: rgba(255,255,255,0.1); border-radius: 4px; display: flex; align-items: center; overflow: hidden; cursor: pointer; transition: background 0.2s; position: relative; }
        .grid-item:active { background: rgba(255,255,255,0.2); }
        .grid-item img { width: 48px; height: 48px; object-fit: cover; }
        .grid-item span { padding: 0 8px; font-size: 11px; font-weight: 700; flex: 1; line-height: 1.2; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .grid-item .progress-bar { position: absolute; bottom: 0; left: 0; height: 3px; background: var(--spotify-green); width: 0%; }

        .featured-card { margin: 0 16px 24px; position: relative; cursor: pointer; }
        .featured-card img { width: 100%; border-radius: 8px; aspect-ratio: 16/9; object-fit: cover; }
        .featured-info { padding: 12px 0; }
        .featured-title { font-size: 18px; font-weight: 800; margin-bottom: 4px; }
        .featured-meta { font-size: 12px; color: var(--text-subdued); margin-bottom: 12px; }
        .featured-btn { background: white; color: black; border-radius: 20px; padding: 10px 20px; font-weight: 700; font-size: 13px; display: inline-block; }

        /* --- LIBRARY VIEW --- */
        .lib-controls { padding: 8px 16px; display: flex; justify-content: space-between; align-items: center; color: var(--text-subdued); font-size: 13px; font-weight: 600; }
        .lib-controls svg { width: 18px; height: 18px; fill: currentColor; }
        .list-item { display: flex; align-items: center; padding: 10px 16px; cursor: pointer; }
        .list-item img { width: 64px; height: 64px; object-fit: cover; margin-right: 14px; border-radius: 4px; }
        .list-info { flex: 1; min-width: 0; }
        .list-title { font-size: 15px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 2px; }
        .list-title.active { color: var(--spotify-green); }
        .list-subtitle { font-size: 12px; color: var(--text-subdued); display: flex; align-items: center; gap: 4px; }
        .pin-icon { width: 12px; height: 12px; fill: var(--spotify-green); }

        /* --- NAVIGATION BOTTOM --- */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: linear-gradient(transparent, rgba(0,0,0,0.95) 20%); display: flex; justify-content: space-around; align-items: center; z-index: 50; padding-top: 10px; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: var(--text-subdued); font-size: 10px; font-weight: 500; cursor: pointer; width: 25%; }
        .nav-item.active { color: white; }
        .nav-item svg { width: 24px; height: 24px; margin-bottom: 5px; fill: currentColor; }

        /* --- MINI PLAYER (Lossless Style) --- */
        .mini-player { position: fixed; bottom: 85px; left: 8px; right: 8px; height: 56px; background: #282828; border-radius: 8px; display: flex; align-items: center; padding: 8px; z-index: 60; display: none; }
        .mini-player img { width: 40px; height: 40px; border-radius: 4px; }
        .mini-info { flex: 1; margin: 0 10px; overflow: hidden; }
        .mini-title { font-size: 13px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .mini-artist { font-size: 12px; color: var(--text-subdued); display: flex; align-items: center; gap: 4px; }
        .lossless-tag { color: var(--spotify-green); font-size: 10px; font-weight: 600; }
        .mini-controls { display: flex; align-items: center; gap: 15px; padding-right: 5px; }
        .mini-controls svg { width: 24px; height: 24px; fill: white; }

        /* --- PLUS MENU (BOTTOM SHEET) --- */
        .bs-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 200; opacity: 0; transition: opacity 0.3s; }
        .bs-overlay.active { display: block; opacity: 1; }
        .bs-sheet { position: absolute; bottom: 0; width: 100%; background: #282828; border-radius: 12px 12px 0 0; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.1, 0.9, 0.2, 1); padding: 8px 16px 40px; }
        .bs-sheet.active { transform: translateY(0); }
        .bs-handle { width: 36px; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; margin: 8px auto 20px; }
        .bs-item { display: flex; align-items: center; gap: 16px; padding: 12px 0; cursor: pointer; }
        .bs-icon-circle { width: 48px; height: 48px; background: #3e3e3e; border-radius: 50%; display: flex; justify-content: center; align-items: center; }
        .bs-icon-circle svg { width: 24px; height: 24px; fill: white; }
        .bs-text h4 { font-size: 16px; font-weight: 600; margin-bottom: 2px; }
        .bs-text p { font-size: 13px; color: var(--text-subdued); }

        /* --- POPUP (Bist du sicher?) --- */
        .popup-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 300; justify-content: center; align-items: center; }
        .popup-overlay.active { display: flex; }
        .popup-card { background: #f0f0f0; border-radius: 12px; width: 85%; max-width: 320px; text-align: center; overflow: hidden; color: black; }
        .popup-content { padding: 32px 24px; }
        .popup-content h3 { font-size: 18px; font-weight: 800; margin-bottom: 12px; }
        .popup-content p { font-size: 14px; line-height: 1.4; color: #444; }
        .popup-btn-main { background: var(--spotify-green); border: none; width: calc(100% - 48px); margin: 0 24px 8px; padding: 14px; border-radius: 24px; font-weight: 800; font-size: 15px; cursor: pointer; }
        .popup-btn-flat { background: transparent; border: none; width: 100%; padding: 14px; font-weight: 700; font-size: 15px; color: black; cursor: pointer; }

        /* --- CREATE VIEW --- */
        .create-view { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, #444, #121212); z-index: 250; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .create-view.active { display: flex; }
        .create-view h2 { font-size: 24px; font-weight: 800; margin-bottom: 40px; text-align: center; width: 100%; }
        .create-input { background: transparent; border: none; border-bottom: 2px solid #666; width: 100%; color: white; font-size: 32px; font-weight: 800; text-align: center; outline: none; padding-bottom: 10px; margin-bottom: 40px; }
        .create-btns { display: flex; gap: 16px; }
        .btn-outline { border: 1px solid #777; background: transparent; color: white; padding: 12px 24px; border-radius: 24px; font-weight: 700; }
        .btn-fill { background: var(--spotify-green); border: none; color: black; padding: 12px 24px; border-radius: 24px; font-weight: 700; }

        /* FULL PLAYER (Keep logic, update minor styles) */
        .full-player { position: fixed; top: 100%; left: 0; width: 100%; height: 100%; background: #121212; z-index: 100; transition: top 0.3s; display: flex; flex-direction: column; padding: 20px; }
        .full-player.active { top: 0; }
    </style>
</head>
<body>

    <audio id="native-audio" style="display:none;"></audio>

    <div id="view-start" class="view active">
        <div class="top-header">
            <div class="profile-icon">XX</div>
            <div class="chip-container" style="padding:0;">
                <span class="chip active">Alle</span>
                <span class="chip">Musik</span>
                <span class="chip">Podcasts</span>
                <span class="chip">Hörbücher</span>
            </div>
        </div>

        <div class="start-grid" id="start-grid">
            </div>

        <div class="featured-card">
            <div style="position:relative;">
                <img src="https://i.ytimg.com/vi/u_YhXk1zY7o/maxresdefault.jpg" alt="Featured">
                <div style="position:absolute; bottom:10px; left:10px; background:rgba(0,0,0,0.6); padding:4px 8px; border-radius:4px; font-size:10px; font-weight:700;">PODCAST</div>
            </div>
            <div class="featured-info">
                <h3 class="featured-title">Die Epstein-Files: Wer steht drin?</h3>
                <p class="featured-meta">MrWissen2go • 100.000+ plays • 12. Feb.</p>
                <div class="featured-btn" onclick="playCustom('yt', 'u_YhXk1zY7o', 'Die Epstein-Files', 'MrWissen2go')">Komplette Folge ansehen</div>
            </div>
        </div>
    </div>

    <div id="view-library" class="view">
        <div class="top-header">
            <div class="profile-icon">XX</div>
            <h1>Bibliothek</h1>
            <div class="header-icons">
                <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                <svg onclick="openPlusMenu()" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
            </div>
        </div>
        <div class="chip-container">
            <span class="chip">Playlists</span>
            <span class="chip">Podcasts</span>
            <span class="chip">Künstler*innen</span>
            <span class="chip">Heruntergeladene</span>
        </div>
        <div class="lib-controls">
            <div style="display:flex; align-items:center; gap:4px;">
                <svg viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/></svg>
                Zuletzt
            </div>
            <svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
        </div>
        <div id="library-list"></div>
    </div>

    <div class="mini-player" id="miniPlayer" onclick="openPlayer()">
        <img id="mini-img" src="">
        <div class="mini-info">
            <div class="mini-title" id="mini-title">Titel</div>
            <div class="mini-artist" id="mini-artist">Artist • <span class="lossless-tag">Lossless</span></div>
        </div>
        <div class="mini-controls">
            <svg viewBox="0 0 24 24" style="fill:var(--spotify-green);"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            <svg id="mini-play-btn" onclick="togglePlay(event)" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchView('start', this)">
            <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Start
        </div>
        <div class="nav-item">
            <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>Suchen
        </div>
        <div class="nav-item" onclick="switchView('library', this)">
            <svg viewBox="0 0 24 24"><path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55z"/></svg>Bibliothek
        </div>
        <div class="nav-item" onclick="openPlusMenu()">
            <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>Erstellen
        </div>
    </div>

    <div class="bs-overlay" id="bs-overlay" onclick="closePlusMenu()">
        <div class="bs-sheet" id="bs-sheet" onclick="event.stopPropagation()">
            <div class="bs-handle"></div>
            <div class="bs-item" onclick="openCreateView()">
                <div class="bs-icon-circle"><svg viewBox="0 0 24 24"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/></svg></div>
                <div class="bs-text"><h4>Playlist</h4><p>Erstelle eine Playlist mit Songs oder Folgen.</p></div>
            </div>
            <div class="bs-item">
                <div class="bs-icon-circle"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg></div>
                <div class="bs-text"><h4>Gemeinsame Playlist</h4><p>Erstelle eine Playlist mit Freund*innen.</p></div>
            </div>
            <div class="bs-item">
                <div class="bs-icon-circle"><svg viewBox="0 0 24 24"><path d="M3 17q0 .425.288.713T4 18h16q.425 0 .713-.288T21 17t-.288-.712T20 16H4q-.425 0-.712.288T3 17Zm0-5q0 .425.288.713T4 13h16q.425 0 .713-.288T21 12t-.288-.712T20 11H4q-.425 0-.712.288T3 12Zm0-5q0 .425.288.713T4 8h16q.425 0 .713-.288T21 7t-.288-.712T20 6H4q-.425 0-.712.288T3 7Z"/></svg></div>
                <div class="bs-text"><h4>Gemixte Playlist <span style="background:#1ed760; color:black; font-size:10px; padding:1px 4px; border-radius:2px;">Beta</span></h4><p>Mixe Songs mit nahtlosen Übergängen.</p></div>
            </div>
            <div class="bs-item">
                <div class="bs-icon-circle"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4" fill="#121212"/></svg></div>
                <div class="bs-text"><h4>Gemeinsamer Mix</h4><p>Kombiniere den Musikgeschmack deiner Freund*innen.</p></div>
            </div>
            <div class="bs-item">
                <div class="bs-icon-circle"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14.5v-9l6 4.5-6 4.5z"/></svg></div>
                <div class="bs-text"><h4>Jam</h4><p>Gemeinsam Musik hören, egal wo.</p></div>
            </div>
        </div>
    </div>

    <div id="create-view" class="create-view">
        <h2>Give your playlist a name</h2>
        <input type="text" id="create-input" class="create-input" value="My playlist #18">
        <div class="create-btns">
            <button class="btn-outline" onclick="closeCreateView()">Cancel</button>
            <button class="btn-fill" onclick="confirmPlaylistCreation()">Create</button>
        </div>
    </div>

    <div id="popup-overlay" class="popup-overlay">
        <div class="popup-card">
            <div class="popup-content">
                <h3>Bist du sicher?</h3>
                <p>Nach dem Speichern kannst du keine Änderungen mehr an diesem Design vornehmen.</p>
            </div>
            <button class="popup-btn-main" onclick="executeSave()">Speichern</button>
            <button class="popup-btn-flat" onclick="closePopup()">Abbrechen</button>
        </div>
    </div>

    <div id="fullPlayer" class="full-player">
        <div style="padding: 20px; text-align: center;" onclick="closePlayer()">
            <svg viewBox="0 0 24 24" style="width:32px; fill:white;"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
            <h2 id="fp-title">Titel</h2>
            <div id="yt-player-placeholder"></div>
        </div>
    </div>

<script>
    const libraryData = [
        { title: "Wissen mit Johnny", artist: "Podcast • Johnny", pin: true, img: "https://i.ytimg.com/vi/2nB12QYnB8k/hqdefault.jpg" },
        { title: "My top tracks playlist", artist: "Playlist • Patrick", pin: false, img: "https://i.ytimg.com/vi/4NRXx6U8ABQ/hqdefault.jpg" },
        { title: "Chill-Mix 2025", artist: "Gemixte Playlist • Patrick", pin: false, active: true, img: "https://i.ytimg.com/vi/jfKfPfyJRdk/hqdefault.jpg" },
        { title: "{ungeskriptet} - Gespräche...", artist: "Podcast • Ben Berndt", pin: false, img: "https://i.ytimg.com/vi/S_Y2lO0q1_A/hqdefault.jpg" }
    ];

    const startGridData = [
        { title: "Chill-Mix 2025", img: "https://i.ytimg.com/vi/jfKfPfyJRdk/hqdefault.jpg", progress: 40 },
        { title: "Lieblingssongs", img: "https://misc.scdn.co/onesp-64/liked-songs-64.png", progress: 0 },
        { title: "#268 - KI übernimmt in 2...", img: "https://i.ytimg.com/vi/S_Y2lO0q1_A/hqdefault.jpg", progress: 80 },
        { title: "Playlist.", img: "https://i.ytimg.com/vi/4NRXx6U8ABQ/hqdefault.jpg", progress: 0 },
        { title: "Techq Quest | Music Playlist", img: "https://i.ytimg.com/vi/9oD5M_yN1H0/hqdefault.jpg", progress: 0 },
        { title: "Best EDM Songs", img: "https://i.ytimg.com/vi/ALZHF5UqnU4/hqdefault.jpg", progress: 0 }
    ];

    function renderStart() {
        const grid = document.getElementById('start-grid');
        grid.innerHTML = startGridData.map(item => `
            <div class="grid-item">
                <img src="${item.img}">
                <span>${item.title}</span>
                <div class="progress-bar" style="width:${item.progress}%"></div>
            </div>
        `).join('');
    }

    function renderLibrary() {
        const list = document.getElementById('library-list');
        list.innerHTML = libraryData.map(item => `
            <div class="list-item">
                <img src="${item.img}">
                <div class="list-info">
                    <div class="list-title ${item.active ? 'active' : ''}">${item.title}</div>
                    <div class="list-subtitle">
                        ${item.pin ? '<svg class="pin-icon" viewBox="0 0 24 24"><path d="M16 9V4l1 0V2H7v2h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"/></svg>' : ''}
                        ${item.artist}
                    </div>
                </div>
            </div>
        `).join('');
    }

    function switchView(viewId, el) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById('view-' + viewId).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }

    function openPlusMenu() {
        document.getElementById('bs-overlay').classList.add('active');
        setTimeout(() => document.getElementById('bs-sheet').classList.add('active'), 10);
    }

    function closePlusMenu() {
        document.getElementById('bs-sheet').classList.remove('active');
        setTimeout(() => document.getElementById('bs-overlay').classList.remove('active'), 300);
    }

    function openCreateView() {
        closePlusMenu();
        document.getElementById('create-view').classList.add('active');
    }

    function closeCreateView() {
        document.getElementById('create-view').classList.remove('active');
    }

    function confirmPlaylistCreation() {
        document.getElementById('popup-overlay').classList.add('active');
    }

    function closePopup() {
        document.getElementById('popup-overlay').classList.remove('active');
    }

    function executeSave() {
        const name = document.getElementById('create-input').value;
        libraryData.unshift({ title: name, artist: "Playlist • Patrick", pin: false, img: "https://i.ytimg.com/vi/9oD5M_yN1H0/hqdefault.jpg" });
        renderLibrary();
        closePopup();
        closeCreateView();
    }

    function playCustom(type, id, title, artist) {
        document.getElementById('mini-title').innerText = title;
        document.getElementById('mini-artist').innerHTML = `${artist} • <span class="lossless-tag">Lossless</span>`;
        document.getElementById('mini-img').src = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;
        document.getElementById('miniPlayer').style.display = 'flex';
        // Hier käme die YT/Audio Logik
    }

    function openPlayer() { document.getElementById('fullPlayer').classList.add('active'); }
    function closePlayer() { document.getElementById('fullPlayer').classList.remove('active'); }
    function togglePlay(e) { e.stopPropagation(); /* Play/Pause Logik */ }

    // Init
    renderStart();
    renderLibrary();
</script>
</body>
</html>
